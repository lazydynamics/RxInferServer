<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How to add a model · RxInferServer</title><meta name="title" content="How to add a model · RxInferServer"/><meta property="og:title" content="How to add a model · RxInferServer"/><meta property="twitter:title" content="How to add a model · RxInferServer"/><meta name="description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="twitter:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:url" content="https://server.rxinfer.com/manuals/how-to-add-a-model/"/><meta property="twitter:url" content="https://server.rxinfer.com/manuals/how-to-add-a-model/"/><link rel="canonical" href="https://server.rxinfer.com/manuals/how-to-add-a-model/"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-TCF3D8BVYF"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TCF3D8BVYF', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RxInferServer</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">API design</span><ul><li><a class="tocitem" href="../../api/authentication/">Authentication</a></li><li><a class="tocitem" href="../../api/model-management/">Model management</a></li><li><a class="tocitem" href="../../api/learning/">Learning parameters of a model</a></li><li><a class="tocitem" href="../../api/status-codes/">Status codes and error handling</a></li><li><a class="tocitem" href="../../api/server-info/">Server details and version</a></li><li><a class="tocitem" href="../../api/request-preferences/">Request preferences</a></li></ul></li><li><a class="tocitem" href="../../configuration/">Configuration</a></li><li><span class="tocitem">Manuals</span><ul><li class="is-active"><a class="tocitem" href>How to add a model</a><ul class="internal"><li><a class="tocitem" href="#Learning-by-Example"><span>Learning by Example</span></a></li><li><a class="tocitem" href="#Model-Components"><span>Model Components</span></a></li><li><a class="tocitem" href="#Model-Configuration"><span>Model Configuration</span></a></li><li><a class="tocitem" href="#Model-Implementation"><span>Model Implementation</span></a></li><li><a class="tocitem" href="#Important-Considerations"><span>Important Considerations</span></a></li><li><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../inference-vs-learning/">Inference vs Learning</a></li><li><a class="tocitem" href="../continual-learning/">Continual learning</a></li></ul></li><li><span class="tocitem">Server components</span><ul><li><a class="tocitem" href="../../components/models/">Models</a></li><li><a class="tocitem" href="../../components/database/">Database</a></li><li><a class="tocitem" href="../../components/logging/">Logging</a></li><li><a class="tocitem" href="../../components/serialization/">Serialization</a></li></ul></li><li><a class="tocitem" href="../../developers-guide/">Developers guide</a></li><li><span class="tocitem">OpenAPI documentation</span><ul><li><a class="tocitem" href="../../openapi/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Server</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-2-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-2-3" type="checkbox"/><label class="tocitem" for="menuitem-8-2-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest/">AttachEventsToEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest_events_inner/">AttachEventsToEpisodeRequest<em>events</em>inner</a></li><li><a class="tocitem" href="../../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel/">AvailableModel</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel_details/">AvailableModel_details</a></li><li><a class="tocitem" href="../../openapi/Models/CreateEpisodeRequest/">CreateEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceRequest/">CreateModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceResponse/">CreateModelInstanceResponse</a></li><li><a class="tocitem" href="../../openapi/Models/DeleteModelInstanceRequest/">DeleteModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstance/">ModelInstance</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceParameters/">ModelInstanceParameters</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceState/">ModelInstanceState</a></li><li><a class="tocitem" href="../../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenGenerateResponse/">TokenGenerateResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenRolesResponse/">TokenRolesResponse</a></li><li><a class="tocitem" href="../../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3"><span class="docs-label">Client</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-3-2" type="checkbox"/><label class="tocitem" for="menuitem-8-3-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest/">AttachEventsToEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest_events_inner/">AttachEventsToEpisodeRequest<em>events</em>inner</a></li><li><a class="tocitem" href="../../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel/">AvailableModel</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel_details/">AvailableModel_details</a></li><li><a class="tocitem" href="../../openapi/Models/CreateEpisodeRequest/">CreateEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceRequest/">CreateModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceResponse/">CreateModelInstanceResponse</a></li><li><a class="tocitem" href="../../openapi/Models/DeleteModelInstanceRequest/">DeleteModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstance/">ModelInstance</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceParameters/">ModelInstanceParameters</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceState/">ModelInstanceState</a></li><li><a class="tocitem" href="../../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenGenerateResponse/">TokenGenerateResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenRolesResponse/">TokenRolesResponse</a></li><li><a class="tocitem" href="../../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manuals</a></li><li class="is-active"><a href>How to add a model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How to add a model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer/blob/main/docs/src/manuals/how-to-add-a-model.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="manual-how-to-add-a-model"><a class="docs-heading-anchor" href="#manual-how-to-add-a-model">How to Add a Model</a><a id="manual-how-to-add-a-model-1"></a><a class="docs-heading-anchor-permalink" href="#manual-how-to-add-a-model" title="Permalink"></a></h1><div class="admonition is-warning" id="Warning-b7c9ccfda0736d45"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-b7c9ccfda0736d45" title="Permalink"></a></header><div class="admonition-body"><p>RxInferServer is a young package and the model configuration format as well as the requirements for the model implementation are subject to change to improve the developer and user experience.</p></div></div><p>Welcome to the guide on adding models to RxInferServer! This comprehensive guide will walk you through everything you need to know to create and integrate your own probabilistic models into the server. Whether you&#39;re building a simple prediction model or a complex inference system, this guide has you covered.</p><h2 id="Learning-by-Example"><a class="docs-heading-anchor" href="#Learning-by-Example">Learning by Example</a><a id="Learning-by-Example-1"></a><a class="docs-heading-anchor-permalink" href="#Learning-by-Example" title="Permalink"></a></h2><p>The best way to get started is by exploring existing models. In the RxInferServer repository, you&#39;ll find a <code>models</code> directory containing several example models. These examples serve as practical templates and demonstrate:</p><ul><li>Model configuration best practices</li><li>Implementation patterns for different use cases</li><li>Handling various input/output scenarios</li><li>Effective model organization strategies</li></ul><p>Feel free to use these examples as starting points for your own models, adapting them to your specific needs.</p><h2 id="Model-Components"><a class="docs-heading-anchor" href="#Model-Components">Model Components</a><a id="Model-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Components" title="Permalink"></a></h2><p>Every model in RxInferServer consists of two essential files:</p><ol><li><code>config.yaml</code> - Defines the model&#39;s metadata and parameters</li><li><code>model.jl</code> - Contains the actual model implementation</li></ol><p>Let&#39;s dive into each component in detail.</p><h2 id="Model-Configuration"><a class="docs-heading-anchor" href="#Model-Configuration">Model Configuration</a><a id="Model-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Configuration" title="Permalink"></a></h2><p>The configuration file (<code>config.yaml</code>) is your model&#39;s blueprint. It defines how your model will be presented to users and what parameters it accepts.</p><h3 id="Basic-Configuration"><a class="docs-heading-anchor" href="#Basic-Configuration">Basic Configuration</a><a id="Basic-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Configuration" title="Permalink"></a></h3><p>Every model must specify these core fields:</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Type</th><th style="text-align: right">Required</th></tr><tr><td style="text-align: right"><code>name</code></td><td style="text-align: right">Model name with version identifier</td><td style="text-align: right">String</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>description</code></td><td style="text-align: right">Brief description of the model</td><td style="text-align: right">String</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>author</code></td><td style="text-align: right">Model author&#39;s name</td><td style="text-align: right">String</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>roles</code></td><td style="text-align: right">User roles that can access the model</td><td style="text-align: right">Array of Strings</td><td style="text-align: right">Yes</td></tr></table><p>Example:</p><pre><code class="language-yaml hljs">name: WeatherPredictor-v1
description: A probabilistic model for weather prediction
author: John Doe
roles:
  - user
  - admin</code></pre><h3 id="Model-Parameters"><a class="docs-heading-anchor" href="#Model-Parameters">Model Parameters</a><a id="Model-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Parameters" title="Permalink"></a></h3><p>The <code>arguments</code> section defines what parameters your model accepts:</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th><th style="text-align: right">Type</th><th style="text-align: right">Required</th></tr><tr><td style="text-align: right"><code>name</code></td><td style="text-align: right">Parameter name</td><td style="text-align: right">String</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>description</code></td><td style="text-align: right">Parameter description</td><td style="text-align: right">String</td><td style="text-align: right">No</td></tr><tr><td style="text-align: right"><code>type</code></td><td style="text-align: right">Expected data type</td><td style="text-align: right">String</td><td style="text-align: right">No</td></tr><tr><td style="text-align: right"><code>default</code></td><td style="text-align: right">Default value</td><td style="text-align: right">Any</td><td style="text-align: right">No</td></tr><tr><td style="text-align: right"><code>required</code></td><td style="text-align: right">Whether parameter is mandatory</td><td style="text-align: right">Boolean</td><td style="text-align: right">No</td></tr></table><p>Example:</p><pre><code class="language-yaml hljs">arguments:
  - name: state_dimension
    description: The dimension of the state space
    type: int
    required: true
  - name: horizon
    description: The prediction horizon
    type: int
    default: 10</code></pre><h2 id="Model-Implementation"><a class="docs-heading-anchor" href="#Model-Implementation">Model Implementation</a><a id="Model-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Implementation" title="Permalink"></a></h2><p>Now, let&#39;s explore how to implement your model&#39;s logic in <code>model.jl</code>. First, let&#39;s clarify some key concepts:</p><h3 id="Key-Concepts"><a class="docs-heading-anchor" href="#Key-Concepts">Key Concepts</a><a id="Key-Concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Concepts" title="Permalink"></a></h3><ul><li><strong>Model</strong>: A probabilistic model description for inference and learning</li><li><strong>Model Instance</strong>: A specific instance of a model with its own arguments, state, and parameters</li><li><strong>Model Arguments</strong>: Constants passed during model creation</li><li><strong>Model State</strong>: Internal state that persists between inference calls</li><li><strong>Model Parameters</strong>: Learnable parameters exposed through the <a href="../../api/learning/#learning-api">Learning API</a></li></ul><h3 id="Model-Lifecycle"><a class="docs-heading-anchor" href="#Model-Lifecycle">Model Lifecycle</a><a id="Model-Lifecycle-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Lifecycle" title="Permalink"></a></h3><p>When the server starts, it only loads model configurations. The actual model code executes only when a user creates a model instance through the <a href="../../api/model-management/#model-management-api">Model management API</a>. Each model instance maintains its own isolated state, allowing multiple instances of the same model to operate independently.</p><h3 id="Required-Functions"><a class="docs-heading-anchor" href="#Required-Functions">Required Functions</a><a id="Required-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Required-Functions" title="Permalink"></a></h3><p>Your model implementation must define these four essential functions. Each function plays a specific role in the model&#39;s lifecycle and has a distinct semantic meaning in the context of probabilistic inference.</p><h4 id="initial_state(arguments)"><a class="docs-heading-anchor" href="#initial_state(arguments)"><code>initial_state(arguments)</code></a><a id="initial_state(arguments)-1"></a><a class="docs-heading-anchor-permalink" href="#initial_state(arguments)" title="Permalink"></a></h4><p>This function represents the initial conditions of your model and is called when a new model instance is created. The state is a persistent memory that evolves over time as the model processes data. It can store any information that needs to be maintained between inference calls, such as running statistics, cached computations, or model-specific metadata.</p><p>The function takes a single argument:</p><ul><li><code>arguments</code>: A dictionary containing the model arguments specified in <code>config.yaml</code></li></ul><p>It should return a dictionary representing the initial state of the model.</p><p>Here&#39;s an example implementation:</p><pre><code class="language-julia hljs">function initial_state(arguments)
    return Dict(
        &quot;state_dimension&quot; =&gt; arguments[&quot;state_dimension&quot;],
        &quot;horizon&quot; =&gt; arguments[&quot;horizon&quot;],
        &quot;learning_rate&quot; =&gt; arguments[&quot;horizon&quot;] &gt; 10 ? 0.01 : 0.001
    )
end</code></pre><h4 id="initial_parameters(arguments)"><a class="docs-heading-anchor" href="#initial_parameters(arguments)"><code>initial_parameters(arguments)</code></a><a id="initial_parameters(arguments)-1"></a><a class="docs-heading-anchor-permalink" href="#initial_parameters(arguments)" title="Permalink"></a></h4><p>This function initializes the model&#39;s learnable parameters when a new model instance is created. Parameters represent the core components of your probabilistic model that can be learned from data. These are the variables that define your model&#39;s behavior and are updated during the learning process. In Bayesian terms, these often correspond to the parameters of your prior distributions or the structure of your probabilistic model.</p><p>The function takes a single argument:</p><ul><li><code>arguments</code>: A dictionary containing the model arguments specified in <code>config.yaml</code></li></ul><p>It should return a dictionary containing the initial values of all learnable parameters.</p><p>Here&#39;s an example implementation:</p><pre><code class="language-julia hljs">function initial_parameters(arguments)
    return Dict(
        &quot;A&quot; =&gt; randn(arguments[&quot;state_dimension&quot;], arguments[&quot;state_dimension&quot;]),
        &quot;B&quot; =&gt; randn(arguments[&quot;state_dimension&quot;], arguments[&quot;state_dimension&quot;])
    )
end</code></pre><h4 id="run_inference(state,-parameters,-event)"><a class="docs-heading-anchor" href="#run_inference(state,-parameters,-event)"><code>run_inference(state, parameters, event)</code></a><a id="run_inference(state,-parameters,-event)-1"></a><a class="docs-heading-anchor-permalink" href="#run_inference(state,-parameters,-event)" title="Permalink"></a></h4><p>This function implements the core inference algorithm of your model and is called to perform inference on a single data point. It takes a single observation (event) and computes the posterior distribution or point estimates based on the current state and parameters. The function should return both the inference results and an updated state that reflects any changes from processing the new data point.</p><p>The function takes three arguments:</p><ul><li><code>state</code>: A dictionary containing the current model state</li><li><code>parameters</code>: A dictionary containing the current model parameters</li><li><code>event</code>: A dictionary containing the input data for inference</li></ul><p>It should return a tuple containing:</p><ul><li>A dictionary with the inference results</li><li>A dictionary with the updated model state</li></ul><p>Here&#39;s an example implementation:</p><pre><code class="language-julia hljs">function run_inference(state, parameters, event)
    # Inference logic here
    result = ...
    new_state = ...
    return result, new_state
end</code></pre><h4 id="run_learning(state,-parameters,-events)"><a class="docs-heading-anchor" href="#run_learning(state,-parameters,-events)"><code>run_learning(state, parameters, events)</code></a><a id="run_learning(state,-parameters,-events)-1"></a><a class="docs-heading-anchor-permalink" href="#run_learning(state,-parameters,-events)" title="Permalink"></a></h4><p>This function implements the learning algorithm for your model and is called to update model parameters based on a batch of data. It processes a batch of observations to update the model parameters, typically using some form of gradient-based optimization or Bayesian updating. The function should return updated parameters, an updated state, and any relevant learning metrics or diagnostics.</p><p>The function takes three arguments:</p><ul><li><code>state</code>: A dictionary containing the current model state</li><li><code>parameters</code>: A dictionary containing the current model parameters</li><li><code>events</code>: An array of dictionaries containing the batch of input data for learning</li></ul><p>It should return a tuple containing:</p><ul><li>A dictionary with the learning results (e.g., metrics, diagnostics)</li><li>A dictionary with the updated model state</li><li>A dictionary with the updated model parameters</li></ul><p>Here&#39;s an example implementation:</p><pre><code class="language-julia hljs">function run_learning(state, parameters, events)
    # Learning logic here
    result = ...
    new_state = ...
    new_parameters = ...
    return result, new_state, new_parameters
end</code></pre><h2 id="Important-Considerations"><a class="docs-heading-anchor" href="#Important-Considerations">Important Considerations</a><a id="Important-Considerations-1"></a><a class="docs-heading-anchor-permalink" href="#Important-Considerations" title="Permalink"></a></h2><h3 id="Dependencies"><a class="docs-heading-anchor" href="#Dependencies">Dependencies</a><a id="Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Dependencies" title="Permalink"></a></h3><p>Currently, if your model requires additional Julia packages, you must add them to the main <code>Project.toml</code> file of the RxInferServer repository. This is because the server uses the same environment to run all models.</p><div class="admonition is-info" id="Note-323a9a87a3f94137"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-323a9a87a3f94137" title="Permalink"></a></header><div class="admonition-body"><p>This limitation might be lifted in future versions with more flexible dependency management.</p></div></div><h3 id="Serialization"><a class="docs-heading-anchor" href="#Serialization">Serialization</a><a id="Serialization-1"></a><a class="docs-heading-anchor-permalink" href="#Serialization" title="Permalink"></a></h3><p>Remember that <code>state</code>, <code>parameters</code>, and <code>result</code> objects are serialized to JSON when communicating with the server. RxInferServer uses the <code>Serialization</code> module to handle complex objects like matrices and distributions. For more details, see the <a href="../../components/serialization/#serialization">Serialization</a> manual and <a href="../../api/request-preferences/#request-preferences-api">Request preferences</a> documentation.</p><h2 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h2><p>Now that you understand the basics of adding a model to RxInferServer, you might want to:</p><ol><li>Explore the <a href="../../api/model-management/#model-management-api">Model management API</a> to understand how to interact with your model</li><li>Check out the <a href="../../api/learning/#learning-api">Learning API</a> for details on model training</li><li>Review the <a href="../../components/serialization/#serialization">Serialization</a> guide for handling complex data types</li><li>Look at existing models in the repository for practical examples</li></ol><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../configuration/">« Configuration</a><a class="docs-footer-nextpage" href="../inference-vs-learning/">Inference vs Learning »</a><div class="flexbox-break"></div><p class="footer-message">Created and sponsored by <a href="https://lazydynamics.com/">LazyDynamics</a>, powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>. Licensed under <a href="http://github.com/lazydynamics/RxInferServer?tab=readme-ov-file#license">AGPL-3.0</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 1 October 2025 11:34">Wednesday 1 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
