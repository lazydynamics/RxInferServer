<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Serialization · RxInferServer</title><meta name="title" content="Serialization · RxInferServer"/><meta property="og:title" content="Serialization · RxInferServer"/><meta property="twitter:title" content="Serialization · RxInferServer"/><meta name="description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="twitter:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:url" content="https://server.rxinfer.com/components/serialization/"/><meta property="twitter:url" content="https://server.rxinfer.com/components/serialization/"/><link rel="canonical" href="https://server.rxinfer.com/components/serialization/"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-TCF3D8BVYF"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TCF3D8BVYF', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RxInferServer</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">API design</span><ul><li><a class="tocitem" href="../../api/authentication/">Authentication</a></li><li><a class="tocitem" href="../../api/model-management/">Model management</a></li><li><a class="tocitem" href="../../api/learning/">Learning parameters of a model</a></li><li><a class="tocitem" href="../../api/status-codes/">Status codes and error handling</a></li><li><a class="tocitem" href="../../api/server-info/">Server details and version</a></li><li><a class="tocitem" href="../../api/request-preferences/">Request preferences</a></li></ul></li><li><a class="tocitem" href="../../configuration/">Configuration</a></li><li><span class="tocitem">Manuals</span><ul><li><a class="tocitem" href="../../manuals/how-to-add-a-model/">How to add a model</a></li></ul></li><li><span class="tocitem">Server components</span><ul><li><a class="tocitem" href="../models/">Models</a></li><li><a class="tocitem" href="../database/">Database</a></li><li><a class="tocitem" href="../logging/">Logging</a></li><li class="is-active"><a class="tocitem" href>Serialization</a><ul class="internal"><li><a class="tocitem" href="#Supported-Types"><span>Supported Types</span></a></li><li><a class="tocitem" href="#Multi-dimensional-Array-Serialization"><span>Multi-dimensional Array Serialization</span></a></li><li><a class="tocitem" href="#Distribution-Serialization"><span>Distribution Serialization</span></a></li><li><a class="tocitem" href="#API-Reference"><span>API Reference</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../developers-guide/">Developers guide</a></li><li><span class="tocitem">OpenAPI documentation</span><ul><li><a class="tocitem" href="../../openapi/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2"><span class="docs-label">Server</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-2-2" type="checkbox"/><label class="tocitem" for="menuitem-8-2-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-2-3" type="checkbox"/><label class="tocitem" for="menuitem-8-2-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest/">AttachEventsToEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest_events_inner/">AttachEventsToEpisodeRequest<em>events</em>inner</a></li><li><a class="tocitem" href="../../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel/">AvailableModel</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel_details/">AvailableModel_details</a></li><li><a class="tocitem" href="../../openapi/Models/CreateEpisodeRequest/">CreateEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceRequest/">CreateModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceResponse/">CreateModelInstanceResponse</a></li><li><a class="tocitem" href="../../openapi/Models/DeleteModelInstanceRequest/">DeleteModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstance/">ModelInstance</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceParameters/">ModelInstanceParameters</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceState/">ModelInstanceState</a></li><li><a class="tocitem" href="../../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenGenerateResponse/">TokenGenerateResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenRolesResponse/">TokenRolesResponse</a></li><li><a class="tocitem" href="../../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3"><span class="docs-label">Client</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-8-3-2" type="checkbox"/><label class="tocitem" for="menuitem-8-3-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-8-3-3" type="checkbox"/><label class="tocitem" for="menuitem-8-3-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest/">AttachEventsToEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AttachEventsToEpisodeRequest_events_inner/">AttachEventsToEpisodeRequest<em>events</em>inner</a></li><li><a class="tocitem" href="../../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel/">AvailableModel</a></li><li><a class="tocitem" href="../../openapi/Models/AvailableModel_details/">AvailableModel_details</a></li><li><a class="tocitem" href="../../openapi/Models/CreateEpisodeRequest/">CreateEpisodeRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceRequest/">CreateModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/CreateModelInstanceResponse/">CreateModelInstanceResponse</a></li><li><a class="tocitem" href="../../openapi/Models/DeleteModelInstanceRequest/">DeleteModelInstanceRequest</a></li><li><a class="tocitem" href="../../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstance/">ModelInstance</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceParameters/">ModelInstanceParameters</a></li><li><a class="tocitem" href="../../openapi/Models/ModelInstanceState/">ModelInstanceState</a></li><li><a class="tocitem" href="../../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenGenerateResponse/">TokenGenerateResponse</a></li><li><a class="tocitem" href="../../openapi/Models/TokenRolesResponse/">TokenRolesResponse</a></li><li><a class="tocitem" href="../../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Server components</a></li><li class="is-active"><a href>Serialization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Serialization</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer/blob/main/docs/src/components/serialization.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="serialization"><a class="docs-heading-anchor" href="#serialization">Serialization</a><a id="serialization-1"></a><a class="docs-heading-anchor-permalink" href="#serialization" title="Permalink"></a></h1><p>The <code>Serialization</code> module provides type-safe JSON serialization for OpenAPI data types in RxInferServer.jl, with special focus on handling multi-dimensional arrays and probability distributions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.JSONSerialization" href="#RxInferServer.Serialization.JSONSerialization"><code>RxInferServer.Serialization.JSONSerialization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JSONSerialization(; kwargs...)</code></pre><p>Type-safe JSON serializer for OpenAPI data types with configurable multi-dimensional array handling.</p><p><strong>Keywords</strong></p><ul><li><code>mdarray_repr</code>: Multi-dimensional array representation format, see <a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr</code></a></li><li><code>mdarray_data</code>: Multi-dimensional array data encoding format, see <a href="#RxInferServer.Serialization.MultiDimensionalArrayData"><code>RxInferServer.Serialization.MultiDimensionalArrayData</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization.jl#L35-L43">source</a></section></article><h2 id="Supported-Types"><a class="docs-heading-anchor" href="#Supported-Types">Supported Types</a><a id="Supported-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Supported-Types" title="Permalink"></a></h2><p>The serialization supports standard OpenAPI data types as defined in the <a href="https://swagger.io/docs/specification/v3_0/data-models/data-types/">OpenAPI specification</a>:</p><ul><li><code>string</code> (including dates and files)</li><li><code>number</code></li><li><code>integer</code></li><li><code>boolean</code></li><li><code>array</code> (corresponds to <code>AbstractVector</code> for Julia)</li><li><code>object</code> (corresponds to <code>AbstractDict</code> for Julia)</li><li><code>distribution</code> (corresponds to <code>Distribution</code> from RxInfer.jl)</li></ul><h2 id="Multi-dimensional-Array-Serialization"><a class="docs-heading-anchor" href="#Multi-dimensional-Array-Serialization">Multi-dimensional Array Serialization</a><a id="Multi-dimensional-Array-Serialization-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-dimensional-Array-Serialization" title="Permalink"></a></h2><p>OpenAPI specification does not natively support multi-dimensional arrays. To handle this limitation while ensuring compatibility across different programming languages (which may use different array layouts), RxInferServer implements a customizable serialization strategy through two key preferences:</p><ol><li>Array representation format (<a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr</code></a>)</li><li>Array data encoding (<a href="#RxInferServer.Serialization.MultiDimensionalArrayData"><code>RxInferServer.Serialization.MultiDimensionalArrayData</code></a>)</li></ol><h3 id="Example:-Matrix-Serialization-Challenge"><a class="docs-heading-anchor" href="#Example:-Matrix-Serialization-Challenge">Example: Matrix Serialization Challenge</a><a id="Example:-Matrix-Serialization-Challenge-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Matrix-Serialization-Challenge" title="Permalink"></a></h3><p>Consider serializing a 2x2 matrix:</p><pre><code class="language-julia hljs">A = [1 2; 3 4]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×2 Matrix{Int64}:
 1  2
 3  4</code></pre><p>A naive approach might serialize this as:</p><pre><code class="language-julia hljs">encoded_A = Dict(
    &quot;shape&quot; =&gt; size(A),
    &quot;data&quot; =&gt; collect(Iterators.flatten(A))
)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{String, Any} with 2 entries:
  &quot;shape&quot; =&gt; (2, 2)
  &quot;data&quot;  =&gt; [1, 3, 2, 4]</code></pre><p>While this works fine in Julia:</p><pre><code class="language-julia hljs">decoded_A = reshape(encoded_A[&quot;data&quot;], encoded_A[&quot;shape&quot;]...)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2×2 Matrix{Int64}:
 1  2
 3  4</code></pre><p>It, however, does not work in python:</p><pre><code class="language-python hljs">&gt;&gt;&gt; import numpy as np

&gt;&gt;&gt; np.reshape([ 1, 3, 2, 4 ], shape = (2, 2))
array([[1, 3],
       [2, 4]])</code></pre><p>You can see that the data is not correctly reshaped in python. Elements <code>2</code> and <code>3</code> are swapped. If we would send this data to a python SDK client, the data would be incorrect. This is due to the different array layout conventions (row-major in Python/NumPy vs column-major in Julia). RxInferServer does not assume a particular layout for multi-dimensional arrays, so it leaves it to the user to configure the serialization preferences. </p><h3 id="Serialization-Preferences"><a class="docs-heading-anchor" href="#Serialization-Preferences">Serialization Preferences</a><a id="Serialization-Preferences-1"></a><a class="docs-heading-anchor-permalink" href="#Serialization-Preferences" title="Permalink"></a></h3><p>RxInferServer provides two key preferences to control how multi-dimensional arrays are serialized:</p><ol><li><p><strong>Array Data Encoding</strong> (<a href="#RxInferServer.Serialization.MultiDimensionalArrayData"><code>RxInferServer.Serialization.MultiDimensionalArrayData</code></a>): Determines how the array data itself is transformed for serialization. For example, the <code>ArrayOfArrays</code> option encodes multi-dimensional arrays as nested arrays with row-major ordering to ensure cross-language compatibility.</p></li><li><p><strong>Array Representation Format</strong> (<a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr</code></a>): Controls the structure of the serialized output, offering several options ranging from a fully-specified dictionary with type, encoding, shape, and data fields to a minimal representation with just the data itself.</p></li></ol><p>These preferences can be configured when creating a <a href="#RxInferServer.Serialization.JSONSerialization"><code>RxInferServer.Serialization.JSONSerialization</code></a> instance, allowing you to balance between explicit metadata and compact representation based on your specific needs. Read the <a href="../../api/request-preferences/#request-preferences-api">Request Preferences</a> section for more information on how to set these preferences in the request headers.</p><h4 id="serialization-multi-dimensional-array-representation-format"><a class="docs-heading-anchor" href="#serialization-multi-dimensional-array-representation-format">Multi-dimensional Array Representation Format</a><a id="serialization-multi-dimensional-array-representation-format-1"></a><a class="docs-heading-anchor-permalink" href="#serialization-multi-dimensional-array-representation-format" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Specifies the JSON representation format for multi-dimensional arrays. Is supposed to be used as a namespace for the <code>MultiDimensionalArrayRepr</code> enum.</p><p>See also: <a href="#RxInferServer.Serialization.MultiDimensionalArrayData"><code>RxInferServer.Serialization.MultiDimensionalArrayData</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L145-L150">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Represents the multi-dimensional array as a dictionary with the following keys:</p><ul><li><code>type</code> set to <code>&quot;mdarray&quot;</code></li><li><code>encoding</code> set to to a selected transformation of the array, e.g. <code>&quot;array_of_arrays&quot;</code></li><li><code>shape</code> set to the size of the array</li><li><code>data</code> set to the encoded array itself as defined by the transformation</li></ul><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, MultiDimensionalArrayRepr, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_repr = MultiDimensionalArrayRepr.Dict, mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;array_of_arrays\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[[1,2],[3,4]]}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L157-L172">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr.DictTypeAndShape" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.DictTypeAndShape"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.DictTypeAndShape</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Same as <a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict</code></a>, but excludes the <code>encoding</code> key, leaving only the <code>type</code>, <code>shape</code> and <code>data</code> keys.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, MultiDimensionalArrayRepr, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_repr = MultiDimensionalArrayRepr.DictTypeAndShape, mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[[1,2],[3,4]]}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L175-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr.DictShape" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.DictShape"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.DictShape</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Same as <a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Dict</code></a>, but excludes the <code>encoding</code> and <code>type</code> keys, leaving only the <code>shape</code> and <code>data</code> keys.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, MultiDimensionalArrayRepr, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_repr = MultiDimensionalArrayRepr.DictShape, mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[[1,2],[3,4]]}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L189-L200">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr.Data" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Data"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Data</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compact representation of the multi-dimensional array as returned from the transformation.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, MultiDimensionalArrayRepr, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_repr = MultiDimensionalArrayRepr.Data, mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; to_json(s, [1 2; 3 4])
&quot;[[1,2],[3,4]]&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L203-L214">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayRepr.Unknown" href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Unknown"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Unknown</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Unknown representation format. Used to indicate that the representation format is not known or cannot be parsed from the request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L152-L154">source</a></section></article><h4 id="serialization-multi-dimensional-array-data-encoding"><a class="docs-heading-anchor" href="#serialization-multi-dimensional-array-data-encoding">Multi-dimensional Array Data Encoding</a><a id="serialization-multi-dimensional-array-data-encoding-1"></a><a class="docs-heading-anchor-permalink" href="#serialization-multi-dimensional-array-data-encoding" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData" href="#RxInferServer.Serialization.MultiDimensionalArrayData"><code>RxInferServer.Serialization.MultiDimensionalArrayData</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A module that specifies the encoding format for multi-dimensional array data. Is supposed to be used as a namespace for the <code>MultiDimensionalArrayData</code> enum.</p><p>See also: <a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.ArrayOfArrays" href="#RxInferServer.Serialization.MultiDimensionalArrayData.ArrayOfArrays"><code>RxInferServer.Serialization.MultiDimensionalArrayData.ArrayOfArrays</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of multi-dimensional arrays as nested arrays of arrays with row-major ordering.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;array_of_arrays\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[[1,2],[3,4]]}&quot;

julia&gt; to_json(s, [1 3; 2 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;array_of_arrays\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[[1,3],[2,4]]}&quot;</code></pre><div class="admonition is-info" id="Note-dc989416204ed790"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-dc989416204ed790" title="Permalink"></a></header><div class="admonition-body"><p>Julia uses column-major ordering for multi-dimensional arrays, but this setting explicitly uses row-major ordering.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L17-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeColumnMajor" href="#RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeColumnMajor"><code>RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeColumnMajor</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of multi-dimensional arrays as a flattened array using column-major ordering.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_data = MultiDimensionalArrayData.ReshapeColumnMajor);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;reshape_column_major\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[1,3,2,4]}&quot;

julia&gt; to_json(s, [1 3; 2 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;reshape_column_major\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[1,2,3,4]}&quot;</code></pre><div class="admonition is-info" id="Note-cd8443f658203c35"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-cd8443f658203c35" title="Permalink"></a></header><div class="admonition-body"><p>Julia uses column-major ordering for multi-dimensional arrays, so this encoding preserves the natural ordering of elements in memory.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L37-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeRowMajor" href="#RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeRowMajor"><code>RxInferServer.Serialization.MultiDimensionalArrayData.ReshapeRowMajor</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of multi-dimensional arrays as a flattened array using row-major ordering.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_data = MultiDimensionalArrayData.ReshapeRowMajor);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;reshape_row_major\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[1,2,3,4]}&quot;

julia&gt; to_json(s, [1 3; 2 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;reshape_row_major\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[1,3,2,4]}&quot;</code></pre><div class="admonition is-info" id="Note-5de38fae0cf118d9"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-5de38fae0cf118d9" title="Permalink"></a></header><div class="admonition-body"><p>This encoding traverses the array in row-major order, which is different from Julia&#39;s native column-major storage, but is compatible with <code>numpy.ndarray</code> memory layout.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L57-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.Diagonal" href="#RxInferServer.Serialization.MultiDimensionalArrayData.Diagonal"><code>RxInferServer.Serialization.MultiDimensionalArrayData.Diagonal</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of multi-dimensional arrays as a single array containing only the diagonal elements of the parent array.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_data = MultiDimensionalArrayData.Diagonal);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;diagonal\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:[1,4]}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L78-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.None" href="#RxInferServer.Serialization.MultiDimensionalArrayData.None"><code>RxInferServer.Serialization.MultiDimensionalArrayData.None</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Removes the multi-dimensional array data from the response entirely.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: MultiDimensionalArrayData, JSONSerialization, to_json

julia&gt; s = JSONSerialization(mdarray_data = MultiDimensionalArrayData.None);

julia&gt; to_json(s, [1 2; 3 4])
&quot;{\&quot;type\&quot;:\&quot;mdarray\&quot;,\&quot;encoding\&quot;:\&quot;none\&quot;,\&quot;shape\&quot;:[2,2],\&quot;data\&quot;:null}&quot;</code></pre><div class="admonition is-info" id="Note-4cf5db2d9f849f37"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-4cf5db2d9f849f37" title="Permalink"></a></header><div class="admonition-body"><p>Use <a href="#RxInferServer.Serialization.MultiDimensionalArrayRepr.Data"><code>RxInferServer.Serialization.MultiDimensionalArrayRepr.Data</code></a> to remove everything.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L92-L106">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.MultiDimensionalArrayData.Unknown" href="#RxInferServer.Serialization.MultiDimensionalArrayData.Unknown"><code>RxInferServer.Serialization.MultiDimensionalArrayData.Unknown</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Unknown encoding format. Used to indicate that the encoding format is not known or cannot be parsed from the request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_mdarrays.jl#L12-L14">source</a></section></article><h2 id="Distribution-Serialization"><a class="docs-heading-anchor" href="#Distribution-Serialization">Distribution Serialization</a><a id="Distribution-Serialization-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-Serialization" title="Permalink"></a></h2><p>RxInferServer provides robust serialization support for probability distributions from RxInfer.jl, enabling seamless communication between the server and clients in different programming languages. This functionality is particularly important when working with statistical models that rely on various distribution types. The serialization system offers flexible options to control how distributions are represented in JSON, allowing you to choose between detailed representations that include type information and compact formats that focus solely on the distribution parameters.</p><h3 id="Serialization-Preferences-2"><a class="docs-heading-anchor" href="#Serialization-Preferences-2">Serialization Preferences</a><a class="docs-heading-anchor-permalink" href="#Serialization-Preferences-2" title="Permalink"></a></h3><p>RxInferServer provides customizable serialization for probability distributions from RxInfer.jl. Similar to multi-dimensional arrays, the serialization strategy is controlled through two key preferences:</p><ol><li><p><strong>Distribution Data Encoding</strong> (<a href="#RxInferServer.Serialization.DistributionsData"><code>RxInferServer.Serialization.DistributionsData</code></a>): Determines how the distribution parameters are encoded. For example, the <code>NamedParams</code> option encodes parameters with their semantic names (e.g., <code>μ</code> for mean), while the <code>Params</code> option uses a simple array of values.</p></li><li><p><strong>Distribution Representation Format</strong> (<a href="#RxInferServer.Serialization.DistributionsRepr"><code>RxInferServer.Serialization.DistributionsRepr</code></a>): Controls the structure of the serialized output, offering several options ranging from a fully-specified dictionary with type, encoding, tag, and data fields to a minimal representation with just the data itself.</p></li></ol><p>These preferences can be configured when creating a <a href="#RxInferServer.Serialization.JSONSerialization"><code>RxInferServer.Serialization.JSONSerialization</code></a> instance, allowing you to balance between explicit metadata and compact representation based on your specific needs. Read the <a href="../../api/request-preferences/#request-preferences-api">Request Preferences</a> section for more information on how to set these preferences in the request headers.</p><h4 id="serialization-distribution-representation-format"><a class="docs-heading-anchor" href="#serialization-distribution-representation-format">Distribution Representation Format</a><a id="serialization-distribution-representation-format-1"></a><a class="docs-heading-anchor-permalink" href="#serialization-distribution-representation-format" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr" href="#RxInferServer.Serialization.DistributionsRepr"><code>RxInferServer.Serialization.DistributionsRepr</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Specifies the JSON representation format for distributions. Is supposed to be used as a namespace for the <code>DistributionsRepr</code> enum.</p><p>See also: <a href="#RxInferServer.Serialization.DistributionsData"><code>RxInferServer.Serialization.DistributionsData</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L132-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr.Dict" href="#RxInferServer.Serialization.DistributionsRepr.Dict"><code>RxInferServer.Serialization.DistributionsRepr.Dict</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Represents the distribution as a dictionary with the following keys:</p><ul><li><code>type</code> set to the distribution type (e.g. <code>&quot;Distribution{Univariate, Continuous}&quot;</code>)</li><li><code>encoding</code> set to the selected encoding format (e.g. <code>&quot;named_params&quot;</code>)</li><li><code>tag</code> set to the specific distribution tag (e.g. <code>&quot;NormalMeanVariance&quot;</code>)</li><li><code>data</code> set to the encoded distribution parameters</li></ul><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, DistributionsRepr, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_repr = DistributionsRepr.Dict, distributions_data = DistributionsData.NamedParams);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;encoding\&quot;:\&quot;named_params\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:{\&quot;μ\&quot;:1.0,\&quot;v\&quot;:2.0}}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L144-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr.DictTypeAndTag" href="#RxInferServer.Serialization.DistributionsRepr.DictTypeAndTag"><code>RxInferServer.Serialization.DistributionsRepr.DictTypeAndTag</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Same as <a href="#RxInferServer.Serialization.DistributionsRepr.Dict"><code>RxInferServer.Serialization.DistributionsRepr.Dict</code></a>, but excludes the <code>encoding</code> key, leaving only the <code>type</code>, <code>tag</code> and <code>data</code> keys.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, DistributionsRepr, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_repr = DistributionsRepr.DictTypeAndTag, distributions_data = DistributionsData.NamedParams);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:{\&quot;μ\&quot;:1.0,\&quot;v\&quot;:2.0}}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L164-L177">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr.DictTag" href="#RxInferServer.Serialization.DistributionsRepr.DictTag"><code>RxInferServer.Serialization.DistributionsRepr.DictTag</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Same as <a href="#RxInferServer.Serialization.DistributionsRepr.Dict"><code>RxInferServer.Serialization.DistributionsRepr.Dict</code></a>, but excludes the <code>encoding</code> and <code>type</code> keys, leaving only the <code>tag</code> and <code>data</code> keys.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, DistributionsRepr, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_repr = DistributionsRepr.DictTag, distributions_data = DistributionsData.NamedParams);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:{\&quot;μ\&quot;:1.0,\&quot;v\&quot;:2.0}}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L180-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr.Data" href="#RxInferServer.Serialization.DistributionsRepr.Data"><code>RxInferServer.Serialization.DistributionsRepr.Data</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Compact representation of the distribution data as returned from the encoding.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, DistributionsRepr, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_repr = DistributionsRepr.Data, distributions_data = DistributionsData.NamedParams);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;μ\&quot;:1.0,\&quot;v\&quot;:2.0}&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L196-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsRepr.Unknown" href="#RxInferServer.Serialization.DistributionsRepr.Unknown"><code>RxInferServer.Serialization.DistributionsRepr.Unknown</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Unknown representation format. Used to indicate that the representation format is not known or cannot be parsed from the request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L139-L141">source</a></section></article><h4 id="serialization-distribution-data-encoding"><a class="docs-heading-anchor" href="#serialization-distribution-data-encoding">Distribution Data Encoding</a><a id="serialization-distribution-data-encoding-1"></a><a class="docs-heading-anchor-permalink" href="#serialization-distribution-data-encoding" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData" href="#RxInferServer.Serialization.DistributionsData"><code>RxInferServer.Serialization.DistributionsData</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A module that specifies the encoding format for distribution data. Is supposed to be used as a namespace for the <code>DistributionsData</code> enum.</p><p>See also: <a href="#RxInferServer.Serialization.DistributionsRepr"><code>RxInferServer.Serialization.DistributionsRepr</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData.NamedParams" href="#RxInferServer.Serialization.DistributionsData.NamedParams"><code>RxInferServer.Serialization.DistributionsData.NamedParams</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of distributions as a dictionary with named parameters.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_data = DistributionsData.NamedParams);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;encoding\&quot;:\&quot;named_params\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:{\&quot;μ\&quot;:1.0,\&quot;v\&quot;:2.0}}&quot;</code></pre><div class="admonition is-info" id="Note-7563d228aee4f883"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-7563d228aee4f883" title="Permalink"></a></header><div class="admonition-body"><p>This encoding preserves the semantic meaning of each parameter by using its name as a key in the dictionary.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L19-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData.Params" href="#RxInferServer.Serialization.DistributionsData.Params"><code>RxInferServer.Serialization.DistributionsData.Params</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Encodes the data of distributions as an array of parameters in their natural order.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_data = DistributionsData.Params);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;encoding\&quot;:\&quot;params\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:[1.0,2.0]}&quot;</code></pre><div class="admonition is-info" id="Note-de400c6f56a07f09"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-de400c6f56a07f09" title="Permalink"></a></header><div class="admonition-body"><p>This encoding is more compact but requires knowledge of the parameter order for each distribution type.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L38-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData.MeanCov" href="#RxInferServer.Serialization.DistributionsData.MeanCov"><code>RxInferServer.Serialization.DistributionsData.MeanCov</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Always encodes distributions with mean and covariance parameters, converting from other parameterizations as needed.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_data = DistributionsData.MeanCov);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;encoding\&quot;:\&quot;mean_cov\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:{\&quot;mean\&quot;:1.0,\&quot;cov\&quot;:2.0}}&quot;

julia&gt; to_json(s, NormalMeanPrecision(1.0, 0.5))
&quot;{\&quot;encoding\&quot;:\&quot;mean_cov\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanPrecision\&quot;,\&quot;data\&quot;:{\&quot;mean\&quot;:1.0,\&quot;cov\&quot;:2.0}}&quot;</code></pre><div class="admonition is-info" id="Note-5b6b8e1c5662145b"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-5b6b8e1c5662145b" title="Permalink"></a></header><div class="admonition-body"><p>This encoding ensures consistent parameterization across different distribution types, making it easier for clients to work with the data.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L76-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData.None" href="#RxInferServer.Serialization.DistributionsData.None"><code>RxInferServer.Serialization.DistributionsData.None</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Removes the distribution data from the response entirely.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: DistributionsData, JSONSerialization, to_json

julia&gt; using RxInfer

julia&gt; s = JSONSerialization(distributions_data = DistributionsData.None);

julia&gt; to_json(s, NormalMeanVariance(1.0, 2.0))
&quot;{\&quot;encoding\&quot;:\&quot;none\&quot;,\&quot;type\&quot;:\&quot;Distribution{Univariate, Continuous}\&quot;,\&quot;tag\&quot;:\&quot;NormalMeanVariance\&quot;,\&quot;data\&quot;:null}&quot;</code></pre><div class="admonition is-info" id="Note-34ba297c2448fe33"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-34ba297c2448fe33" title="Permalink"></a></header><div class="admonition-body"><p>Use <a href="#RxInferServer.Serialization.DistributionsRepr.Data"><code>RxInferServer.Serialization.DistributionsRepr.Data</code></a> to remove everything.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L57-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.DistributionsData.Unknown" href="#RxInferServer.Serialization.DistributionsData.Unknown"><code>RxInferServer.Serialization.DistributionsData.Unknown</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Unknown encoding format. Used to indicate that the encoding format is not known or cannot be parsed from the request.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization_distributions.jl#L14-L16">source</a></section></article><h2 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.to_json" href="#RxInferServer.Serialization.to_json"><code>RxInferServer.Serialization.to_json</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">to_json([io::IO], [serialization::JSONSerialization], value)</code></pre><p>Serialize <code>value</code> to JSON using the specified serialization strategy.</p><p>Returns a string if <code>io</code> is not provided.</p><p>See also: <a href="#RxInferServer.Serialization.JSONSerialization"><code>RxInferServer.Serialization.JSONSerialization</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization.jl#L73-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.from_json" href="#RxInferServer.Serialization.from_json"><code>RxInferServer.Serialization.from_json</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">from_json(string)</code></pre><p>Parse a JSON string into Julia data structures.</p><pre><code class="language-julia-repl hljs">julia&gt; import RxInferServer.Serialization: JSONSerialization, MultiDimensionalArrayRepr, MultiDimensionalArrayData, to_json, from_json

julia&gt; s = JSONSerialization(mdarray_repr = MultiDimensionalArrayRepr.Dict, mdarray_data = MultiDimensionalArrayData.ArrayOfArrays);

julia&gt; from_json(to_json(s, [1 2; 3 4]))
Dict{String, Any} with 4 entries:
  &quot;shape&quot;    =&gt; Any[2, 2]
  &quot;encoding&quot; =&gt; &quot;array_of_arrays&quot;
  &quot;data&quot;     =&gt; Any[Any[1, 2], Any[3, 4]]
  &quot;type&quot;     =&gt; &quot;mdarray&quot;</code></pre><p>Note: No post-processing is performed on the deserialized value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization.jl#L89-L108">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.Serialization.UnsupportedPreferenceError" href="#RxInferServer.Serialization.UnsupportedPreferenceError"><code>RxInferServer.Serialization.UnsupportedPreferenceError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UnsupportedPreferenceError(option, options)</code></pre><p>Error thrown when an unknown <code>options</code> value is used for a given set of <code>options</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/6da14a3a3bfc3dd7e7bf73ffba7f2aeeb98be1db/src/components/serialization/serialization.jl#L3-L7">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../logging/">« Logging</a><a class="docs-footer-nextpage" href="../../developers-guide/">Developers guide »</a><div class="flexbox-break"></div><p class="footer-message">Created and sponsored by <a href="https://lazydynamics.com/">LazyDynamics</a>, powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>. Licensed under <a href="http://github.com/lazydynamics/RxInferServer?tab=readme-ov-file#license">AGPL-3.0</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Thursday 3 July 2025 13:17">Thursday 3 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
